{"version":3,"file":"httpServer.js","names":["Context","Effect","dual","Layer","Client","ClientRequest","internalEtag","internalFileSystem","internalPlatform","internalPath","TypeId","Symbol","for","serverTag","GenericTag","serverProto","isServer","u","make","options","Object","assign","create","serve","args","isEffect","httpApp","middleware","scopedDiscard","flatMap","server","serveEffect","formatAddress","address","_tag","path","hostname","port","addressWith","effect","addressFormattedWith","logAddress","_","log","withLogAddress","layer","effectDiscard","pipe","provideMerge","makeTestClient","HttpClient","client","die","Error","host","url","succeed","mapRequest","prependUrl","layerTestClient","layerContext","mergeAll","layerWeak","layerNoop"],"sources":["../../../src/internal/httpServer.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}