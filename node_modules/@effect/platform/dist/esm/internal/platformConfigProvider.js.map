{"version":3,"file":"platformConfigProvider.js","names":["FileSystem","ConfigProvider","Context","DefaultServices","Effect","FiberRef","Layer","fromDotEnv","path","gen","_","fs","content","readFileString","obj","parseDotEnv","fromJson","layerDotEnv","pipe","map","setConfigProvider","unwrapEffect","layerDotEnvAdd","dotEnvConfigProvider","orElseSucceed","logDebug","empty","currentConfigProvider","get","currentServices","services","configProvider","orElse","DOT_ENV_LINE","lines","replace","match","exec","key","value","trim","maybeQuote","expand","parsed","newParsed","configKey","interpolate","envValue","lastUnescapedDollarSignIndex","searchLast","rightMostGroup","slice","matchGroup","group","variableName","defaultValue","str","rgx","matches","Array","from","matchAll","length","index"],"sources":["../../../src/internal/platformConfigProvider.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}