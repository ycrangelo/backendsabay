{"version":3,"file":"httpPlatform.js","names":["Context","Effect","identity","pipe","Layer","Stream","Etag","FileSystem","Headers","serverResponse","TypeId","Symbol","for","tag","GenericTag","make","impl","gen","fs","etagGen","Generator","of","fileResponse","path","options","bindTo","stat","bind","info","fromFileInfo","map","etag","start","Number","offset","end","bytesToRead","undefined","headers","set","fromInput","empty","toString","mtime","_tag","value","toUTCString","contentLength","size","status","statusText","fileWebResponse","file","fromFileWeb","merge","unsafeFromRecord","Date","lastModified","layer","effect","flatMap","stream","_options","fromReadableStream","provide","layerWeak"],"sources":["../../../src/internal/httpPlatform.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}