{"version":3,"file":"HttpApi.js","names":["Context","Option","pipeArguments","Predicate","Record","AST","HttpApiDecodeError","HttpApiSchema","TypeId","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","arguments","add","group","makeProto","identifier","groups","set","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","Object","setPrototypeOf","make","Map","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","extractAnnotations","emptyDecodeable","getEmptyDecodeable","current","get","description","none","orElse","getDescriptionOrIdentifier","Union","types","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}