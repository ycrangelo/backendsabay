{"version":3,"file":"HttpApi.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Record","AST","_HttpApiError","HttpApiSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isHttpApi","hasProperty","Api","Tag","Proto","pipe","pipeArguments","arguments","add","group","makeProto","identifier","groups","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","setPrototypeOf","make","Map","HttpApiDecodeError","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","extractAnnotations","emptyDecodeable","getEmptyDecodeable","current","description","none","orElse","getDescriptionOrIdentifier","Union","types","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":";;;;;;AAGA,IAAAA,OAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,uBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAJ,uBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAL,uBAAA,CAAAC,OAAA;AAEA,IAAAK,GAAA,GAAAN,uBAAA,CAAAC,OAAA;AAGA,IAAAM,aAAA,GAAAN,OAAA;AAGA,IAAAO,aAAA,GAAAR,uBAAA,CAAAC,OAAA;AAAmD,SAAAQ,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAV,wBAAAU,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAfnD;;;;AAmBA;;;;AAIO,MAAMW,MAAM,GAAAC,OAAA,CAAAD,MAAA,gBAAkBE,MAAM,CAACC,GAAG,CAAC,0BAA0B,CAAC;AAQ3E;;;;AAIO,MAAMC,SAAS,GAAIT,CAAU,IAAuBpB,SAAS,CAAC8B,WAAW,CAACV,CAAC,EAAEK,MAAM,CAAC;AA2E3F;;;;AAAAC,OAAA,CAAAG,SAAA,GAAAA,SAAA;AAIM,MAAOE,GAAI,sBAAQpC,OAAO,CAACqC,GAAG,CAAC,8BAA8B,CAAC,EAMjE;AAAAN,OAAA,CAAAK,GAAA,GAAAA,GAAA;AAsBH,MAAME,KAAK,GAAG;EACZ,CAACR,MAAM,GAAGA,MAAM;EAChBS,IAAIA,CAAA;IACF,OAAO,IAAAC,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC,CAAC;EACDC,GAAGA,CAEDC,KAA6C;IAE7C,OAAOC,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAExC,MAAM,CAACuB,GAAG,CAAC,IAAI,CAACiB,MAAM,EAAEH,KAAK,CAACE,UAAU,EAAEF,KAAK,CAAC;MACxDI,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA;KACnB,CAAC;EACJ,CAAC;EACDC,UAAUA,CAERC,GAAyB;IAEzB,MAAMC,SAAS,GAAG;MAAE,GAAG,IAAI,CAACN;IAAM,CAAE;IACpC,KAAK,MAAMO,GAAG,IAAIF,GAAG,CAACL,MAAM,EAAE;MAC5B,MAAMQ,QAAQ,GAAoDH,GAAG,CAACL,MAAM,CAACO,GAAG,CAAC,CAACE,eAAe,CAACvD,OAAO,CAACwD,KAAK,EAAE,CAAC;MAClHF,QAAQ,CAACN,WAAW,GAAGhD,OAAO,CAACyD,KAAK,CAACN,GAAG,CAACH,WAAW,EAAEM,QAAQ,CAACN,WAAW,CAAC;MAC3EM,QAAQ,CAACL,WAAW,GAAG,IAAIS,GAAG,CAAC,CAAC,GAAGP,GAAG,CAACF,WAAW,EAAE,GAAGK,QAAQ,CAACL,WAAW,CAAC,CAAC;MAC7EG,SAAS,CAACC,GAAG,CAAC,GAAGC,QAAe;IAClC;IACA,OAAOV,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAEM,SAAS;MACjBL,WAAW,EAAEtC,aAAa,CAACkD,UAAU,CAAC,IAAI,CAACZ,WAAW,EAAEI,GAAG,CAACJ,WAAW,CAAC;MACxEC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA;KACnB,CAAC;EACJ,CAAC;EACDW,QAAQA,CAENC,MAAyB,EACzBb,WAA0C;IAE1C,OAAOJ,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,WAAW,EAAEtC,aAAa,CAACkD,UAAU,CACnC,IAAI,CAACZ,WAAW,EAChBC,WAAW,EAAEc,MAAM,GACfD,MAAM,CAACb,WAAW,CAACvC,aAAa,CAACuC,WAAW,CAAC;QAAEc,MAAM,EAAEd,WAAW,CAACc;MAAM,CAAE,CAAC,CAAC,GAC7ED,MAAM,CACX;MACDb,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA;KACnB,CAAC;EACJ,CAAC;EACDc,MAAMA,CAA6BA,MAAiB;IAClD,OAAOnB,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAExC,MAAM,CAAC0D,GAAG,CAAC,IAAI,CAAClB,MAAM,EAAGH,KAAK,IAAKA,KAAK,CAACoB,MAAM,CAACA,MAAM,CAAC,CAAC;MAChEhB,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA;KACnB,CAAC;EACJ,CAAC;EACDgB,UAAUA,CAA6BC,GAAkC;IACvE,OAAOtB,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,WAAW,EAAEtC,aAAa,CAACkD,UAAU,CAAC,IAAI,CAACZ,WAAW,EAAEmB,GAAG,CAACC,OAAO,CAAC;MACpEnB,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAIS,GAAG,CAAC,CAAC,GAAG,IAAI,CAACT,WAAW,EAAEiB,GAAG,CAAC;KAChD,CAAC;EACJ,CAAC;EACDE,QAAQA,CAA6BF,GAA0B,EAAEG,KAAU;IACzE,OAAOzB,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAEhD,OAAO,CAAC0C,GAAG,CAAC,IAAI,CAACM,WAAW,EAAEkB,GAAG,EAAEG,KAAK,CAAC;MACtDpB,WAAW,EAAE,IAAI,CAACA;KACnB,CAAC;EACJ,CAAC;EACDM,eAAeA,CAA6Be,OAA6B;IACvE,OAAO1B,SAAS,CAAC;MACfC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAEhD,OAAO,CAACyD,KAAK,CAAC,IAAI,CAACT,WAAW,EAAEsB,OAAO,CAAC;MACrDrB,WAAW,EAAE,IAAI,CAACA;KACnB,CAAC;EACJ;CACD;AAED,MAAML,SAAS,GACb2B,OAMC,IAC4B;EAC7B,SAASC,OAAOA,CAAA,GAAI;EACpBlD,MAAM,CAACmD,cAAc,CAACD,OAAO,EAAElC,KAAK,CAAC;EACrCkC,OAAO,CAAC1B,MAAM,GAAGyB,OAAO,CAACzB,MAAM;EAC/B0B,OAAO,CAACzB,WAAW,GAAGwB,OAAO,CAACxB,WAAW;EACzCyB,OAAO,CAACxB,WAAW,GAAGuB,OAAO,CAACvB,WAAW;EACzCwB,OAAO,CAACvB,WAAW,GAAGsB,OAAO,CAACtB,WAAW;EACzC,OAAOuB,OAAc;AACvB,CAAC;AAED;;;;;;;;;AASO,MAAME,IAAI,GAA6B7B,UAAc,IAC1DD,SAAS,CAAC;EACRC,UAAU;EACVC,MAAM,EAAE,IAAI6B,GAAG,EAAS;EACxB5B,WAAW,EAAE6B,gCAAkB;EAC/B5B,WAAW,EAAEhD,OAAO,CAACwD,KAAK,EAAE;EAC5BP,WAAW,EAAE,IAAIS,GAAG;CACrB,CAAC;AAEJ;;;;;;;;;AAAA3B,OAAA,CAAA2C,IAAA,GAAAA,IAAA;AASO,MAAMG,OAAO,GAAGA,CACrBC,IAAmC,EACnCP,OA2BC,KACC;EACF,MAAMQ,SAAS,GAAGC,cAAc,CAACF,IAAI,CAAC/B,WAAW,CAACkC,GAAG,EAAE,IAAIN,GAAG,EAAE,EAAElE,aAAa,CAACyE,iBAAiB,CAAC;EAClG,MAAMpC,MAAM,GAAGxB,MAAM,CAAC6D,MAAM,CAACL,IAAI,CAAChC,MAAM,CAAyD;EACjG,KAAK,MAAMH,KAAK,IAAIG,MAAM,EAAE;IAC1B,MAAMsC,WAAW,GAAGJ,cAAc,CAACrC,KAAK,CAACI,WAAW,CAACkC,GAAG,EAAEF,SAAS,EAAEtE,aAAa,CAACyE,iBAAiB,CAAC;IACrG,MAAMG,gBAAgB,GAAGrF,OAAO,CAACyD,KAAK,CAACqB,IAAI,CAAC9B,WAAW,EAAEL,KAAK,CAACK,WAAW,CAAC;IAC3EuB,OAAO,CAACe,OAAO,CAAC;MACd3C,KAAK;MACL4C,iBAAiB,EAAEF;KACpB,CAAC;IACF,MAAMG,SAAS,GAAGlE,MAAM,CAAC6D,MAAM,CAACxC,KAAK,CAAC6C,SAAS,CAAkE;IACjH,KAAK,MAAMC,QAAQ,IAAID,SAAS,EAAE;MAChC,IACEjB,OAAO,CAACmB,SAAS,IAAI,CAACnB,OAAO,CAACmB,SAAS,CAAC;QACtCD,QAAQ;QACR9C;OACM,CAAC,EACT;MAEF,MAAMgD,MAAM,GAAGX,cAAc,CAACS,QAAQ,CAAC1C,WAAW,CAACkC,GAAG,EAAEG,WAAW,EAAE3E,aAAa,CAACyE,iBAAiB,CAAC;MACrGX,OAAO,CAACqB,UAAU,CAAC;QACjBjD,KAAK;QACL8C,QAAQ;QACRxB,UAAU,EAAE,IAAIP,GAAG,CAAC,CAAC,GAAGf,KAAK,CAACM,WAAW,EAAE,GAAGwC,QAAQ,CAACxC,WAAW,CAAC,CAAC;QACpEsC,iBAAiB,EAAEvF,OAAO,CAACyD,KAAK,CAAC4B,gBAAgB,EAAEI,QAAQ,CAACzC,WAAW,CAAC;QACxE6C,QAAQ,EAAEJ,QAAQ,CAACK,aAAa,CAACC,IAAI,KAAK,MAAM,GAAGC,eAAe,CAACP,QAAQ,CAACK,aAAa,CAACzB,KAAK,CAACY,GAAG,CAAC,GAAGgB,QAAQ;QAC/GC,SAAS,EAAElB,cAAc,CAACS,QAAQ,CAACU,aAAa,CAAClB,GAAG,EAAE,IAAIN,GAAG,EAAE,EAAElE,aAAa,CAAC2F,mBAAmB,CAAC;QACnGT;OACD,CAAC;IACJ;EACF;AACF,CAAC;AAED;AAAA5D,OAAA,CAAA8C,OAAA,GAAAA,OAAA;AAEA,MAAMoB,QAAQ,gBAAG,IAAItB,GAAG,EAAgB;AAExC,MAAMK,cAAc,GAAGA,CACrBqB,MAAe,EACfC,SAGE,EACFC,SAAmC,KAIhC;EACH,MAAMC,OAAO,GAAG,IAAI7B,GAAG,CAAC2B,SAAS,CAAC;EAClC,SAASG,OAAOA,CAACxB,GAAY;IAC3B,IAAIA,GAAG,CAACc,IAAI,KAAK,cAAc,EAAE;MAC/B;IACF;IACAd,GAAG,GAAG1E,GAAG,CAACyC,WAAW,CAACiC,GAAG,EAAE;MACzB,GAAGxE,aAAa,CAACiG,kBAAkB,CAACL,MAAM,CAACrD,WAAW,CAAC;MACvD,GAAGiC,GAAG,CAACjC;KACR,CAAC;IACF,MAAMc,MAAM,GAAGyC,SAAS,CAACtB,GAAG,CAAC;IAC7B,MAAM0B,eAAe,GAAGlG,aAAa,CAACmG,kBAAkB,CAAC3B,GAAG,CAAC;IAC7D,MAAM4B,OAAO,GAAGL,OAAO,CAACtF,GAAG,CAAC4C,MAAM,CAAC;IACnC0C,OAAO,CAAC3E,GAAG,CACTiC,MAAM,EACN;MACEgD,WAAW,EAAE,CAACD,OAAO,GAAGA,OAAO,CAACC,WAAW,GAAG3G,MAAM,CAAC4G,IAAI,EAAE,EAAExE,IAAI,CAC/DpC,MAAM,CAAC6G,MAAM,CAAC,MAAMC,0BAA0B,CAAChC,GAAG,CAAC,CAAC,CACrD;MACDA,GAAG,EAAE,CAAC4B,OAAO,GAAGA,OAAO,CAAC5B,GAAG,GAAG9E,MAAM,CAAC4G,IAAI,EAAE,EAAExE,IAAI,CAC/CpC,MAAM,CAAC6D,GAAG,CAAE6C,OAAO,IACjBtG,GAAG,CAAC2G,KAAK,CAACxC,IAAI,CACZmC,OAAO,CAACd,IAAI,KAAK,OAAO,GAAG,CAAC,GAAGc,OAAO,CAACM,KAAK,EAAElC,GAAG,CAAC,GAAG,CAAC4B,OAAO,EAAE5B,GAAG,CAAC,CACpE,CACF,EACD9E,MAAM,CAAC6G,MAAM,CAAC,MACZ,CAACL,eAAe,IAAIpG,GAAG,CAAC6G,UAAU,CAACnC,GAAG,CAAC,CAACc,IAAI,KAAK,aAAa,GAAG5F,MAAM,CAAC4G,IAAI,EAAE,GAAG5G,MAAM,CAACkH,IAAI,CAACpC,GAAG,CAAC,CAClG;KAEJ,CACF;EACH;EACA,IAAIoB,MAAM,CAACN,IAAI,KAAK,OAAO,EAAE;IAC3B,KAAK,MAAMuB,IAAI,IAAIjB,MAAM,CAACc,KAAK,EAAE;MAC/BV,OAAO,CAACa,IAAI,CAAC;IACf;EACF,CAAC,MAAM;IACLb,OAAO,CAACJ,MAAM,CAAC;EACjB;EACA,OAAOG,OAAO;AAChB,CAAC;AAED,MAAMR,eAAe,GAAIK,MAAe,IAGnC;EACH,MAAMG,OAAO,GAAG,IAAI7B,GAAG,EAGnB;EACJ,SAAS8B,OAAOA,CAACxB,GAAY;IAC3B,IAAIA,GAAG,CAACc,IAAI,KAAK,cAAc,EAAE;MAC/B;IACF;IACAd,GAAG,GAAG1E,GAAG,CAACyC,WAAW,CAACiC,GAAG,EAAE;MACzB,GAAGxE,aAAa,CAACiG,kBAAkB,CAACL,MAAM,CAACrD,WAAW,CAAC;MACvD,GAAGiC,GAAG,CAACjC;KACR,CAAC;IACF,MAAMuE,QAAQ,GAAG9G,aAAa,CAAC+G,WAAW,CAACvC,GAAG,CAAC;IAC/C,MAAMwC,WAAW,GAAGhH,aAAa,CAACiH,YAAY,CAACzC,GAAG,CAAC,GAAG,qBAAqB,GAAGsC,QAAQ,CAACE,WAAW;IAClG,MAAMZ,OAAO,GAAGL,OAAO,CAACtF,GAAG,CAACuG,WAAW,CAAC;IACxC,IAAIZ,OAAO,KAAKc,SAAS,EAAE;MACzBnB,OAAO,CAAC3E,GAAG,CAAC4F,WAAW,EAAE;QACvBF,QAAQ;QACRtC;OACD,CAAC;IACJ,CAAC,MAAM;MACL4B,OAAO,CAAC5B,GAAG,GAAG1E,GAAG,CAAC2G,KAAK,CAACxC,IAAI,CAAC,CAACmC,OAAO,CAAC5B,GAAG,EAAEA,GAAG,CAAC,CAAC;IAClD;EACF;EACA,IAAIoB,MAAM,CAACN,IAAI,KAAK,OAAO,EAAE;IAC3B,KAAK,MAAMuB,IAAI,IAAIjB,MAAM,CAACc,KAAK,EAAE;MAC/BV,OAAO,CAACa,IAAI,CAAC;IACf;EACF,CAAC,MAAM;IACLb,OAAO,CAACJ,MAAM,CAAC;EACjB;EACA,OAAOG,OAAO;AAChB,CAAC;AAED,MAAMS,0BAA0B,GAAIhC,GAAoC,IAA2B;EACjG,MAAMjC,WAAW,GAAG,IAAI,IAAIiC,GAAG,GAC7B;IACE,GAAGA,GAAG,CAAC2C,EAAE,CAAC5E,WAAW;IACrB,GAAGiC,GAAG,CAACjC;GACR,GACDiC,GAAG,CAACjC,WAAW;EACjB,OAAO7C,MAAM,CAAC0H,YAAY,CAAC7E,WAAW,CAACzC,GAAG,CAACuH,uBAAuB,CAAC,IAAI9E,WAAW,CAACzC,GAAG,CAACwH,sBAAsB,CAAQ,CAAC;AACxH,CAAC;AAED;;;;AAIM,MAAOC,iBAAkB,sBAAQhI,OAAO,CAACqC,GAAG,CAAC,4CAA4C,CAAC,EAG7F;AAAAN,OAAA,CAAAiG,iBAAA,GAAAA,iBAAA","ignoreList":[]}