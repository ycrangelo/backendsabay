{"version":3,"file":"httpPlatform.js","names":["Context","_interopRequireWildcard","require","Effect","_Function","Layer","Stream","Etag","FileSystem","Headers","serverResponse","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","tag","GenericTag","make","impl","gen","fs","etagGen","Generator","of","fileResponse","path","options","pipe","bindTo","stat","bind","info","fromFileInfo","map","etag","start","Number","offset","end","bytesToRead","undefined","headers","fromInput","empty","toString","mtime","_tag","value","toUTCString","contentLength","size","status","statusText","fileWebResponse","file","fromFileWeb","merge","unsafeFromRecord","Date","lastModified","layer","effect","flatMap","stream","_options","fromReadableStream","identity","provide","layerWeak"],"sources":["../../../src/internal/httpPlatform.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}